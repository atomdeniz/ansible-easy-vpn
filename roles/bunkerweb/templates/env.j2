MULTISITE=yes
HTTP_PORT=80
HTTPS_PORT=443
SERVER_NAME={{ authelia_host }} {{ wireguard_host }} {{ vaultwarden_host }} {{ changedetect_host }} {{ portainer_host }} {{ adguard_host }} {{ root_host }} {{ www_host }} {{ homepage_host }} {{ picoshare_host }} {{ privatebin_host }}
SERVE_FILES=no
DISABLE_DEFAULT_SERVER=yes
USE_MODSECURITY=no
AUTO_LETS_ENCRYPT=yes
USE_CLIENT_CACHE=yes
USE_GZIP=yes
API_WHITELIST_IP=127.0.0.0/8 10.20.30.0/24 10.20.30.3
USE_REVERSE_PROXY=yes
REVERSE_PROXY_URL_999=/authelia
ALLOWED_METHODS=GET|POST|HEAD|DELETE|PUT
USE_LIMIT_REQ=yes
LIMIT_REQ_RATE=40r/s
BLACKLIST_COUNTRY=cn
BAD_BEHAVIOR_STATUS_CODES=400 401 403 404 405 444
BAD_BEHAVIOR_THRESHOLD=25
REVERSE_PROXY_HOST_999=http://authelia:9091/api/verify
REVERSE_PROXY_HEADERS_999=X-Original-URL $scheme://$http_host$request_uri;Content-Length ""
# Authelia
{{ authelia_host }}_REVERSE_PROXY_URL=/
{{ authelia_host }}_REVERSE_PROXY_HOST=http://authelia:9091
{{ authelia_host }}_REVERSE_PROXY_INTERCEPT_ERRORS=no
# MySite
{{ root_host }}_REVERSE_PROXY_URL=/
{{ root_host }}_REVERSE_PROXY_HOST=http://mywebsite:8080
{{ root_host }}_REVERSE_PROXY_INTERCEPT_ERRORS=no
# www redirect to root_host
{{ www_host }}_REDIRECT_TO=https://{{ root_host }}
# Vaultwarden
{{ vaultwarden_host }}_REVERSE_PROXY_URL=/
{{ vaultwarden_host }}_REVERSE_PROXY_HOST=http://vaultwarden:80
{{ vaultwarden_host }}_REVERSE_PROXY_AUTH_REQUEST=/authelia
{{ vaultwarden_host }}_REVERSE_PROXY_AUTH_REQUEST_SIGNIN_URL=https://{{ authelia_host }}/?rd=$scheme%3A%2F%2F$host$request_uri
{{ vaultwarden_host }}_REVERSE_PROXY_AUTH_REQUEST_SET=$user $upstream_http_remote_user;$groups $upstream_http_remote_groups;$name $upstream_http_remote_name;$email $upstream_http_remote_email
{{ vaultwarden_host }}_WHITELIST_IP={{ my_ip }}
{{ vaultwarden_host }}_USE_WHITELIST=yes
# ChangeDetect
{{ changedetect_host }}_REVERSE_PROXY_URL=/
{{ changedetect_host }}_REVERSE_PROXY_HOST=http://changedetect:5000
{{ changedetect_host }}_REVERSE_PROXY_AUTH_REQUEST=/authelia
{{ changedetect_host }}_REVERSE_PROXY_AUTH_REQUEST_SIGNIN_URL=https://{{ authelia_host }}/?rd=$scheme%3A%2F%2F$host$request_uri
{{ changedetect_host }}_REVERSE_PROXY_AUTH_REQUEST_SET=$user $upstream_http_remote_user;$groups $upstream_http_remote_groups;$name $upstream_http_remote_name;$email $upstream_http_remote_email
{{ changedetect_host }}_WHITELIST_IP={{ my_ip }}
{{ changedetect_host }}_USE_WHITELIST=yes
# Wireguard
{{ wireguard_host }}_REVERSE_PROXY_URL=/
{{ wireguard_host }}_REVERSE_PROXY_HOST=http://wg-easy:51821
{{ wireguard_host }}_REVERSE_PROXY_AUTH_REQUEST=/authelia
{{ wireguard_host }}_REVERSE_PROXY_AUTH_REQUEST_SIGNIN_URL=https://{{ authelia_host }}/?rd=$scheme%3A%2F%2F$host$request_uri
{{ wireguard_host }}_REVERSE_PROXY_AUTH_REQUEST_SET=$user $upstream_http_remote_user;$groups $upstream_http_remote_groups;$name $upstream_http_remote_name;$email $upstream_http_remote_email
{{ wireguard_host }}_WHITELIST_IP={{ my_ip }}
{{ wireguard_host }}_USE_WHITELIST=yes
# Portainer
{{ portainer_host }}_REVERSE_PROXY_URL=/
{{ portainer_host }}_REVERSE_PROXY_HOST=http://portainer:9000
{{ portainer_host }}_REVERSE_PROXY_AUTH_REQUEST=/authelia
{{ portainer_host }}_REVERSE_PROXY_AUTH_REQUEST_SIGNIN_URL=https://{{ authelia_host }}/?rd=$scheme%3A%2F%2F$host$request_uri
{{ portainer_host }}_REVERSE_PROXY_AUTH_REQUEST_SET=$user $upstream_http_remote_user;$groups $upstream_http_remote_groups;$name $upstream_http_remote_name;$email $upstream_http_remote_email
{{ portainer_host }}_WHITELIST_IP={{ my_ip }}
{{ portainer_host }}_USE_WHITELIST=yes
# Adguard
{{ adguard_host }}_REVERSE_PROXY_URL=/
{{ adguard_host }}_REVERSE_PROXY_HOST=http://adguard-unbound-doh:3000
{{ adguard_host }}_REVERSE_PROXY_AUTH_REQUEST=/authelia
{{ adguard_host }}_REVERSE_PROXY_AUTH_REQUEST_SIGNIN_URL=https://{{ authelia_host }}/?rd=$scheme%3A%2F%2F$host$request_uri
{{ adguard_host }}_REVERSE_PROXY_AUTH_REQUEST_SET=$user $upstream_http_remote_user;$groups $upstream_http_remote_groups;$name $upstream_http_remote_name;$email $upstream_http_remote_email
{{ adguard_host }}_WHITELIST_IP={{ my_ip }}
{{ adguard_host }}_USE_WHITELIST=yes
# Home
{{ homepage_host }}_REVERSE_PROXY_URL=/
{{ homepage_host }}_REVERSE_PROXY_HOST=http://homepage:3000
{{ homepage_host }}_REVERSE_PROXY_AUTH_REQUEST=/authelia
{{ homepage_host }}_REVERSE_PROXY_AUTH_REQUEST_SIGNIN_URL=https://{{ authelia_host }}/?rd=$scheme%3A%2F%2F$host$request_uri
{{ homepage_host }}_REVERSE_PROXY_AUTH_REQUEST_SET=$user $upstream_http_remote_user;$groups $upstream_http_remote_groups;$name $upstream_http_remote_name;$email $upstream_http_remote_email
{{ homepage_host }}_WHITELIST_IP={{ my_ip }}
{{ homepage_host }}_USE_WHITELIST=yes
# Picoshare
{{ picoshare_host }}_REVERSE_PROXY_URL=/
{{ picoshare_host }}_REVERSE_PROXY_HOST=http://picoshare:4001
{{ picoshare_host }}_REVERSE_PROXY_INTERCEPT_ERRORS=no
# PrivateBin
{{ privatebin_host }}_REVERSE_PROXY_URL=/
{{ privatebin_host }}_REVERSE_PROXY_HOST=http://privatebin:8080
{{ privatebin_host }}_REVERSE_PROXY_INTERCEPT_ERRORS=no